 
 <!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ëª©ë™ì¤‘3 ë°°ì—´ì˜ì‘</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
  <style>
    body { font-family: 'Arial Rounded MT Bold', Arial, sans-serif; background:#fff; margin:0; }
    .header { background: #3b82f6; color: #fff; font-size: 1.5rem; font-weight: bold; box-shadow: 0 4px 16px rgba(0,0,0,0.07); margin-bottom: 18px; border-radius: 0 0 38px 38px; min-height: 68px; display: flex; align-items: center; justify-content: center; position: relative; padding: 0 14px;}
    .home-btn { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); background: #fff; color: #2563eb; font-size: 1.09rem; border: none; border-radius: 17px; padding: 8px 21px; font-weight: bold; cursor: pointer; text-decoration: none; box-shadow: 0 2px 9px #0001; z-index: 2; transition: background 0.15s, color 0.15s; white-space: nowrap; min-width: 82px; }
    .home-btn:active, .home-btn:focus, .home-btn:hover { background: #eaf1ff; color: #1552b8; text-decoration: underline;}
    .header-title { margin: 0 auto; text-align: center; font-size: 1.22em; font-weight: bold; letter-spacing: -1px; line-height: 1.1; width: 100%; max-width: 100vw; padding: 14px 0; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}
    .mainbar { max-width: 550px; margin: 15px auto 0 auto; display:flex; flex-direction:column; align-items:center; gap:12px; }
    .lesson-select { padding: 9px 10px; border: 1.3px solid #2563eb; border-radius: 10px; font-size: 1.04rem; background: #fff; color: #222; width: 100%; max-width:98vw; min-width:140px; margin-bottom: 5px;}
    .main-title { text-align: center; font-size: 1.28rem; font-weight: bold; margin: 18px 0 9px 0; color: #23243a;}
    .section-tabs { display: flex; justify-content: center; flex-wrap: wrap; gap: 6px; margin: 8px 0 0 0; width: 100%;}
    .section-tab { background: #eee; color: #212a35; border:none; border-radius: 7px; padding: 6px 18px; font-size: 1.02rem; cursor:pointer; transition: background 0.14s, color 0.14s; font-weight: 500; margin-bottom: 3px;}
    .section-tab.selected { background: #2563eb; color:#fff; }
    .content-box { max-width: 96vw; min-height: 70px; margin: 22px auto 0 auto; border-radius:18px; background:#fff; box-shadow:0 6px 20px #e5eaf5; padding: 18px 8px 18px 8px; }
    .sentence-row { display: flex; align-items: flex-start; margin-bottom: 18px; }
    .sentence-content { flex: 1; }
    .en { font-size: 1.07rem; background: #fff; border: 1px solid #e3e3e3; border-radius: 9px; padding: 12px 10px; min-width: 60vw; word-break: break-all; margin-bottom: 2px; color:#2563eb;}
    .sortable { display: flex; flex-wrap: wrap; min-height: 54px; gap: 11px; margin-bottom: 11px;}
    .eng-build .word, .eng-ans .word { background: #2563eb; color: #fff; border: none; border-radius: 8px; padding: 7px 18px; font-size: 1em; font-weight: bold; cursor: grab; margin-bottom: 6px; user-select: none; transition: background 0.16s;}
    .eng-ans .word { background: #e0e7ef; color: #1e293b; cursor: grab;}
    .eng-build .word:active, .eng-ans .word:active { background: #1d4ed8; }
    .eng-result { font-size:1em; color:#d97706; min-height:28px; font-weight: bold; margin-bottom:4px;}
    .eng-btns button {padding:5px 14px; font-size:1em; border-radius:7px; border:none; background:#3b82f6; color:#fff; cursor:pointer; margin-right:5px; font-weight:bold;}
    .eng-btns button:active {background:#194ca0;}
    .answer-sentence {margin:6px 0 0 0; color:#374151; font-size:1.05em; }
    @media (max-width: 500px) {
      .mainbar { max-width: 99vw; }
      .content-box { padding: 7vw 2vw;}
      .en { min-width: 10vw; font-size: 0.95rem; }
      .section-tab { font-size: 0.95rem; padding: 6px 13px;}
      .sentence-row { flex-direction: column;}
    }
  </style>
</head>
<body>
  <div class="header">
    <a class="home-btn" href="https://nmyway77.github.io/home2/">í™ˆìœ¼ë¡œ</a>
    <span class="header-title">ëª©ë™ì¤‘3 ë°°ì—´ì˜ì‘</span>
  </div>
  <div class="mainbar">
    <select id="lessonSelect" class="lesson-select" onchange="changeLesson()"></select>
    <div class="main-title" id="mainTitle"></div>
    <div class="section-tabs" id="sectionTabs"></div>
  </div>
  <div class="content-box" id="sectionContent"></div>
<script>
  // ì˜ˆì‹œ ë¬¸ì œêµ¬ì¡°
  const lessonSections = {};
  for (let i=1; i<=25; i++) lessonSections[i] = [`${i}-1`, `${i}-2`, `${i}-3`, `${i}-4`, `${i}-5`];
  const sectionSentences = {
    '1-1': [
{en: "Hello, everyone. My name is David Parker, and Iâ€™m a photographer.", ko: "ì•ˆë…•í•˜ì„¸ìš”, ì œ ì´ë¦„ì€ ë°ì´ë¹„ë“œ íŒŒì»¤ì´ê³ , ì €ëŠ” ì‚¬ì§„ì‘ê°€ì…ë‹ˆë‹¤."}, {en: "Today, Iâ€™m going to tell you how I found my dream and realized it.", ko: "ì˜¤ëŠ˜ì€ ì œê°€ ì–´ë–»ê²Œ ì œ ê¿ˆì„ ì°¾ê³  ê·¸ê²ƒì„ ì´ë£¨ì—ˆëŠ”ì§€ ì´ì•¼ê¸°í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤."}, {en: "I hope my story can inspire you.", ko: "ì œ ì´ì•¼ê¸°ê°€ ì—¬ëŸ¬ë¶„ì—ê²Œ ì˜ê°ì„ ì¤„ ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤."}, {en: "When I was young, I loved stars. I also liked taking pictures.", ko: "ì–´ë ¸ì„ ë•Œ, ì €ëŠ” ë³„ì„ ì¢‹ì•„í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ì‚¬ì§„ ì°ëŠ” ê²ƒì„ ì¢‹ì•„í–ˆìŠµë‹ˆë‹¤."}, {en: "However, I never thought these things could lead to a job.", ko: "í•˜ì§€ë§Œ ì €ëŠ” ì´ ë‘ ê°€ì§€ê°€ ì§ì—…ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆì„ ê±°ë¼ê³ ëŠ” ìƒê°í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."}, {en: "In fact, I didnâ€™t have a dream at all.", ko: "ì‚¬ì‹¤, ì €ëŠ” ê¿ˆì´ ì—†ì—ˆìŠµë‹ˆë‹¤."}, {en: "When I had to decide on a major in college, I chose engineering.", ko: "ëŒ€í•™ì—ì„œ ì „ê³µì„ ê²°ì •í•´ì•¼ í•  ë•Œ, ì €ëŠ” ê³µí•™ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤."}, {en: "Being an engineer looked OK. After college, I got a job at an engineering company.", ko: "ê³µí•™ìê°€ ë˜ëŠ” ê²ƒì´ ê´œì°®ì•„ ë³´ì˜€ê³ , ëŒ€í•™ì„ ì¡¸ì—…í•œ í›„ì—” ê³µí•™ íšŒì‚¬ì— ì·¨ì§í–ˆìŠµë‹ˆë‹¤."}, {en: "It was a stable job, but I didnâ€™t know whether I really enjoyed it.", ko: "ê·¸ê²ƒì€ ì•ˆì •ì ì¸ ì§ì¥ì´ì—ˆì§€ë§Œ, ì œê°€ ì •ë§ë¡œ ê·¸ê²ƒì„ ì¦ê¸°ëŠ”ì§€ í™•ì‹ ì´ ì—†ì—ˆìŠµë‹ˆë‹¤."}, {en: "Everything changed when I went on vacation to Iceland one winter.", ko: "ì–´ëŠ ê²¨ìš¸, ì•„ì´ìŠ¬ë€ë“œë¡œ íœ´ê°€ë¥¼ ê°”ì„ ë•Œ ëª¨ë“  ê²ƒì´ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤."}, {en: "There I got a chance to see the Northern Lights.", ko: "ê·¸ê³³ì—ì„œ ë¶ê·¹ê´‘ì„ ë³¼ ê¸°íšŒë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤."}, {en: "The lights were amazing, and I took many pictures of the dancing lights in the sky.", ko: "ê·¸ ë¹›ì€ ì •ë§ ë©‹ì¡Œê³ , ì €ëŠ” í•˜ëŠ˜ì—ì„œ ì¶¤ì¶”ëŠ” ë¹›ì„ ë§ì´ ì°ì—ˆìŠµë‹ˆë‹¤."}, {en: "For the first time in many years, I could feel my heart beating fast.", ko: "ë§ì€ í•´ë¥¼ ì§€ë‚˜ ì²˜ìŒìœ¼ë¡œ ì œ ì‹¬ì¥ì´ ë¹ ë¥´ê²Œ ë›°ëŠ” ê²ƒì„ ëŠê¼ˆìŠµë‹ˆë‹¤."}, {en: "Find a Dream and Live It!", ko: "ê¿ˆì„ ì°¾ê³  ê·¸ê²ƒì„ ì‚´ì•„ë¼!"}, {en: "After I came back, I entered a photo contest with the pictures I took in Iceland.", ko: "ëŒì•„ì˜¨ í›„, ì €ëŠ” ì•„ì´ìŠ¬ë€ë“œì—ì„œ ì°ì€ ì‚¬ì§„ìœ¼ë¡œ ì‚¬ì§„ ê³µëª¨ì „ì— ì°¸ê°€í–ˆìŠµë‹ˆë‹¤."}, {en: "Surprisingly, I won first prize, and this gave me a chance to think about my life.", ko: "ë†€ëê²Œë„ 1ë“±ì„ í–ˆê³ , ì´ê²ƒì´ ì œ ì‚¶ì— ëŒ€í•´ ìƒê°í•  ê¸°íšŒë¥¼ ì£¼ì—ˆìŠµë‹ˆë‹¤."}, {en: "I realized that taking pictures made me happy.", ko: "ì €ëŠ” ì‚¬ì§„ì„ ì°ëŠ” ê²ƒì´ ì €ë¥¼ í–‰ë³µí•˜ê²Œ ë§Œë“ ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤."}, {en: "Suddenly, I wanted to become a good photographer, so I started to learn more about photography.", ko: "ê°‘ìê¸° ì €ëŠ” ì¢‹ì€ ì‚¬ì§„ì‘ê°€ê°€ ë˜ê³  ì‹¶ì–´ì¡Œê³ , ê·¸ë˜ì„œ ì‚¬ì§„ì— ëŒ€í•´ ë” ë°°ìš°ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤."}, {en: "After years of trial and error, I got better, and I began to do some part-time work as a photographer.", ko: "ìˆ˜ë…„ê°„ì˜ ì‹œí–‰ì°©ì˜¤ ëì— ì €ëŠ” ë” ë‚˜ì•„ì¡Œê³ , ì‚¬ì§„ì‘ê°€ë¡œ íŒŒíŠ¸íƒ€ì„ ì¼ì„ í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤."}, {en: "Then one day, I made a bold decision. I quit my job and decided to take pictures for a living.", ko: "ê·¸ë¦¬ê³  ì–´ëŠ ë‚ , ì €ëŠ” ëŒ€ë‹´í•œ ê²°ì •ì„ ë‚´ë ¸ìŠµë‹ˆë‹¤. ì§ì¥ì„ ê·¸ë§Œë‘ê³  ì‚¬ì§„ì„ ì°ìœ¼ë©° ì‚´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤."}, {en: "I wasnâ€™t sure if I could succeed, but I decided to try.", ko: "ì„±ê³µí•  ìˆ˜ ìˆì„ì§€ í™•ì‹ ì€ ì—†ì—ˆì§€ë§Œ, ë„ì „í•´ë³´ê¸°ë¡œ ê²°ì‹¬í–ˆìŠµë‹ˆë‹¤."}, {en: "I really wanted to do something that made me happy. Now, Iâ€™m a professional photographer, and Iâ€™m happy.", ko: "ì €ëŠ” ì •ë§ë¡œ ì €ë¥¼ í–‰ë³µí•˜ê²Œ ë§Œë“œëŠ” ì¼ì„ í•˜ê³  ì‹¶ì—ˆê³ , ì§€ê¸ˆì€ í”„ë¡œ ì‚¬ì§„ì‘ê°€ë¡œ í–‰ë³µí•˜ê²Œ ì§€ë‚´ê³  ìˆìŠµë‹ˆë‹¤."}, {en: "Find a Dream and Live It!", ko: "ê¿ˆì„ ì°¾ê³  ê·¸ê²ƒì„ ì‚´ì•„ë¼!"}, {en: "So do you want to find a dream and realize it? Hereâ€™s some advice to help you.", ko: "ê·¸ë ‡ë‹¤ë©´ ì—¬ëŸ¬ë¶„ë„ ê¿ˆì„ ì°¾ê³  ê·¸ê²ƒì„ ì´ë£¨ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? ì—¬ê¸° ëª‡ ê°€ì§€ ì¡°ì–¸ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤."}, {en: "First, follow your heart. Think about what you like to do and what makes you happy.", ko: "ì²«ì§¸, ë§ˆìŒì„ ë”°ë¥´ì„¸ìš”. ì—¬ëŸ¬ë¶„ì´ ì¢‹ì•„í•˜ëŠ” ì¼ì´ ë¬´ì—‡ì´ê³ , ë¬´ì—‡ì´ ì—¬ëŸ¬ë¶„ì„ í–‰ë³µí•˜ê²Œ ë§Œë“œëŠ”ì§€ ìƒê°í•´ ë³´ì„¸ìš”."}, {en: "In my case, it was taking pictures of stars.", ko: "ì €ì—ê²ŒëŠ” ë³„ì„ ì°ëŠ” ì¼ì´ì—ˆìŠµë‹ˆë‹¤."}, {en: "Second, work hard. Pursuing a dream is not easy. I became a photographer through hard work.", ko: "ë‘˜ì§¸, ì—´ì‹¬íˆ ì¼í•˜ì„¸ìš”. ê¿ˆì„ ì¶”êµ¬í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•ŠìŠµë‹ˆë‹¤. ì €ëŠ” ë…¸ë ¥ ë•ë¶„ì— ì‚¬ì§„ì‘ê°€ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤."}, {en: "Third, be bold. You need courage to make decisions that will change your life.", ko: "ì…‹ì§¸, ëŒ€ë‹´í•´ì§€ì„¸ìš”. ì¸ìƒì„ ë°”ê¾¸ëŠ” ê²°ì •ì„ ë‚´ë¦¬ë ¤ë©´ ìš©ê¸°ê°€ í•„ìš”í•©ë‹ˆë‹¤."}, {en: "I was afraid but I took a chance.", ko: "ì €ëŠ” ë‘ë ¤ì› ì§€ë§Œ ê¸°íšŒë¥¼ ì¡ì•˜ìŠµë‹ˆë‹¤."}, {en: "I truly hope you can find a dream, pursue it, and live it!", ko: "ì €ëŠ” ì—¬ëŸ¬ë¶„ì´ ê¿ˆì„ ì°¾ê³ , ê·¸ê²ƒì„ ì¶”êµ¬í•˜ë©°, ê·¸ê²ƒì„ ì‚´ì•„ê°€ê¸¸ ì§„ì‹¬ìœ¼ë¡œ ë°”ëë‹ˆë‹¤!"},
    ],
    '1-2': [],
    '1-3': [],
    '1-4': [],
    '1-5': [],
'2-2': [],
    '2-3': [],
    '2-4': [],
    '2-5': [],
  };
  for (let i=1; i<=25; i++) for (let j=1; j<=5; j++) if (!sectionSentences[`${i}-${j}`]) sectionSentences[`${i}-${j}`] = [];

  let currentUnit = 1;
  let currentSectionIdx = 0;
  let buildStates = {};

  function setLessonOptions() {
    const sel = document.getElementById('lessonSelect');
    sel.innerHTML = '';
    for (let i=1; i<=25; i++) {
      sel.innerHTML += `<option value="${i}">Lesson ${i}</option>`;
    }
  }
  setLessonOptions();

  function changeLesson() {
    let sel = document.getElementById('lessonSelect');
    currentUnit = parseInt(sel.value, 10);
    currentSectionIdx = 0;
    buildStates = {};
    updateUI();
  }
  function selectSection(idx) {
    currentSectionIdx = idx;
    buildStates = {};
    updateUI();
  }

  function speak(text) {
    if ('speechSynthesis' in window) {
      window.speechSynthesis.cancel();
      const utter = new window.SpeechSynthesisUtterance(text);
      utter.lang = 'en-US'; // ë°˜ë“œì‹œ ì˜ì–´
      utter.rate = 1;
      window.speechSynthesis.speak(utter);
    }
  }

  function updateUI() {
    document.getElementById('mainTitle').textContent = `Lesson ${currentUnit}`;
    document.getElementById('lessonSelect').value = currentUnit;
    let tabs = '', sections = lessonSections[currentUnit] || [];
    sections.forEach((name, idx) => {
      tabs += `<button class="section-tab${idx===currentSectionIdx?' selected':''}" onclick="selectSection(${idx})">${name}</button>`;
    });
    document.getElementById('sectionTabs').innerHTML = tabs;
    let contentHTML = '';
    const sectionKey = sections[currentSectionIdx];
    const sentArr = sectionSentences[sectionKey] || [];
    sentArr.forEach(({en, ko}, i) => {
      let st = buildStates[i] || { chosen: [], pool: shuffle(en.split(' ')), result: "", showAnswer: false };
      buildStates[i] = st;
      contentHTML += `
        <div class="sentence-row" style="align-items: flex-start;">
          <div class="sentence-content" style="width:100%">
            <div class="en" style="margin-bottom:6px;color:#222;">${ko}</div>
            <div class="eng-ans sortable" id="ans-${i}">
              ${st.chosen.map((w, idx) => 
                `<button class="word" onclick="moveToPool(${i}, ${idx})">${w}</button>`
              ).join('')}
            </div>
            <div class="eng-build sortable" id="pool-${i}">
              ${st.pool.map((w, idx) =>
                `<button class="word" onclick="moveToAns(${i}, ${idx})">${w}</button>`
              ).join('')}
            </div>
            <div class="eng-btns">
              <button onclick="undoLastWord(${i})">ë˜ëŒë¦¬ê¸°</button>
              <button onclick="resetBuild(${i})">ì´ˆê¸°í™”</button>
              <button onclick="checkBuild(${i})">ì •ë‹µ í™•ì¸</button>
            </div>
            <div class="eng-result" id="engres-${i}">${st.result||""}</div>
            <div class="answer-sentence" id="answersen-${i}" style="margin-top:4px; color:#374151; font-size:1.05em; ${st.showAnswer ? '' : 'display:none;'}">
              ì •ë‹µë¬¸ì¥: <span style="color:#2563eb;">${en}</span>
            </div>
          </div>
        </div>
      `;
    });
    document.getElementById('sectionContent').innerHTML = contentHTML || `<i>ì•„ì§ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.</i>`;

    setTimeout(() => {
      sentArr.forEach((item, idx) => {
        let ansEl = document.getElementById('ans-' + idx);
        let poolEl = document.getElementById('pool-' + idx);
        if (!ansEl || !poolEl) return;
        const groupName = 'group-'+currentUnit+'-'+currentSectionIdx+'-'+idx;
        if (!ansEl.dataset.sortable) {
          Sortable.create(ansEl, {
            group: { name: groupName, pull: true, put: true },
            animation: 130,
            direction: 'horizontal',
            onAdd: function(evt) { syncWords(idx); },
            onUpdate: function(evt) { syncWords(idx); }
          });
          ansEl.dataset.sortable = "1";
        }
        if (!poolEl.dataset.sortable) {
          Sortable.create(poolEl, {
            group: { name: groupName, pull: true, put: true },
            animation: 130,
            direction: 'horizontal',
            onAdd: function(evt) { syncWords(idx); },
            onUpdate: function(evt) { syncWords(idx); }
          });
          poolEl.dataset.sortable = "1";
        }
      });
    }, 0);
  }

  function syncWords(idx) {
    let ansEl = document.getElementById('ans-'+idx);
    let poolEl = document.getElementById('pool-'+idx);
    let st = buildStates[idx];
    st.chosen = Array.from(ansEl.children).map(b=>b.textContent);
    st.pool = Array.from(poolEl.children).map(b=>b.textContent);
    st.result = "";
    st.showAnswer = false; // ë‹¨ì–´ ì´ë™ ì‹œ ì •ë‹µë¬¸ì¥ ìˆ¨ê¹€
    updateUI();
  }
  function shuffle(arr) { return arr.slice().sort(() => Math.random() - 0.5);}
  function undoLastWord(i) {
    let st = buildStates[i];
    if(st.chosen.length>0) st.pool.push(st.chosen.pop());
    st.result="";
    st.showAnswer = false;
    updateUI();
  }
  function resetBuild(i) {
    let sentArr = sectionSentences[lessonSections[currentUnit][currentSectionIdx]] || [];
    buildStates[i] = {chosen:[], pool:shuffle(sentArr[i].en.split(' ')), result:"", showAnswer: false };
    updateUI();
  }
  function checkBuild(i) {
    let sentArr = sectionSentences[lessonSections[currentUnit][currentSectionIdx]] || [];
    let st = buildStates[i];
    let correct = sentArr[i].en.trim();
    let user = st.chosen.join(' ').trim();
    st.showAnswer = !st.showAnswer; // í† ê¸€
    if(st.showAnswer) {
      if(user === correct) {
        st.result = "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰";
        speak(correct);   // ì •ë‹µ ì˜ì–´ë¬¸ì¥ ì½ê¸°
      } else {
        st.result = "?!";
      }
    } else {
      st.result = "";
    }
    updateUI();
  }

  window.moveToAns = function(i, idx) {
    let st = buildStates[i];
    st.chosen.push(st.pool[idx]);
    st.pool.splice(idx,1);
    st.result = "";
    st.showAnswer = false;
    updateUI();
  }
  window.moveToPool = function(i, idx) {
    let st = buildStates[i];
    st.pool.push(st.chosen[idx]);
    st.chosen.splice(idx,1);
    st.result = "";
    st.showAnswer = false;
    updateUI();
  }

  updateUI();
  window.selectSection = selectSection;
  window.undoLastWord = undoLastWord;
  window.resetBuild = resetBuild;
  window.checkBuild = checkBuild;
</script>
</body>
</html>